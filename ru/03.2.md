# 3.2 Создание простого веб-сервера

Ранее мы обсудили что, веб-приложения основываются на протоколе HTTP и Go, предоставляет полную поддержку HTTP в пакете `net/http`. Запустить веб-сервер используя этот пакет, очень просто.

## Использование пакета net/http для создания web сервера

    package main

  	import (
      	"fmt"
      	"net/http"
      	"strings"
      	"log"
  	)
  
  	func sayhelloName(w http.ResponseWriter, r *http.Request) {
      	r.ParseForm()  // parse arguments, you have to call this by yourself
      	fmt.Println(r.Form)  // print form information in server side
      	fmt.Println("path", r.URL.Path)
      	fmt.Println("scheme", r.URL.Scheme)
      	fmt.Println(r.Form["url_long"])
      	for k, v := range r.Form {
          	fmt.Println("key:", k)
          	fmt.Println("val:", strings.Join(v, ""))
      	}
      	fmt.Fprintf(w, "Hello astaxie!") // send data to client side
  	}
  
  	func main() {
      	http.HandleFunc("/", sayhelloName) // set router
      	err := http.ListenAndServe(":9090", nil) // set listen port
      	if err != nil {
          	log.Fatal("ListenAndServe: ", err)
      	}
  	}
  	
После того, как мы выполним код указанный выше, сервер начнет слушать порт 9090 на local host.

Откроите в браузере адрес `http://localhost:9090`. И вы увидите страницу с надписью `Hello astaxie`.

Давайте попробуем ввести другой адрес содержащий аргуметы : `http://localhost:9090/?url_long=111&url_long=222`

Теперь давайте посмотрим, что происходит на стороне клиента и на стороне сервера.

Вы должны видеть следующую информацию на стороне сервера (в консоле):

![](ru/images/3.2.goweb.png?raw=true)

3.8 Вывод информации на сервере

Как вы можете видеть, нам достаточно вызвать только две функции, чтобы создать простой веб-сервер.

Если вы работаете с PHP, вероятно спросите, нужно ли нам что-то вроде Nginx или Apache. Нет, поскольку GO, слушает порт TCP самостоятельно, и функция sayhelloName является логической функцией, точно так же, как контроллер в PHP.

Если вы работаете с Python, то вышеупомянутый пример подобен "tornado".

Если вы работаете с Ruby, то это как "script/server" в ROR (Ruby On Rails).

В этом разделе, мы использовали две не большие функции, чтобы создать простой веб-сервер, и у этого простого сервера уже достаточно производительности для множества параллельных операций. В следующих двух разделах, мы будем говорить о том, как это использовать.

## Links

- [Directory](preface.md)
- Previous section: [Web working principles](03.1.md)
- Next section: [How Go works with web](03.3.md)






